import{a as x}from"./chunk-MZXVCX43-CM0pFb8Z.js";import{d as j,r as N,e as T,o,f as d,n as g,g as a,t as u,j as B,F as D,s as z}from"./vue.esm-bundler-Bn_nRS7z.js";import{u as G}from"./useStyles-B1JkXNY2.js";import"./v4-CQkTLCs1.js";function K(t){const n={GB:1073741824,MB:1048576,KB:1024},e=l=>[(t/n[l]).toFixed(2),l].join(" ");let i;return t>=n.GB?i=e("GB"):t>=n.MB?i=e("MB"):t>=n.KB?i=e("KB"):i=[t,"B"].join(" "),i}const M={class:"drag-n-drop"},X=["title"],E=["multiple","disabled"],L={class:"ui-ctl-label-text"},O=["title"],U=["multiple","disabled"],W={class:"ui-ctl-label-text"},q=["title"],w={class:"ui-ctl-label-text"},A=a("small",null,"Перетащить с помощью drag'n'drop",-1),H=["multiple","disabled"],J={key:3,class:"drag-n-drop__list"},Q={class:"drag-n-drop__name"},R=["onClick"],h={types:["drop","button","link"]},m=j({__name:"BxInputFile",props:{placeholder:{type:String,default:"",validator(t){return typeof t=="string"}},type:{type:String,default:"drop",validator(t){return h.types.includes(t)}},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["change","delete"],setup(t,{emit:n}){G();const e=t,i=n,l=N({files:[],defaultPlaceholder:"Загрузить файл или картинку"}),p=T(()=>e.disabled?"":l.files.length?l.files.map(s=>s.name).join(`
`):e.multiple?"Файлы не выбраны.":"Файл не выбран.");function C(s){return`${s.name} (${K(s.size)})`}function b(s){const y=s.target.files;l.files.push(...y),i("change",[...l.files])}function $(s){const[_]=l.files.splice(s,1);i("delete",[...l.files],_)}return(s,_)=>(o(),d("div",M,[e.type==="button"?(o(),d("label",{key:0,class:g(["ui-ctl ui-ctl-file-btn",{"bx-input-file-disabled":e.disabled}]),title:p.value},[a("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:b},null,40,E),a("div",L,u(e.placeholder||l.defaultPlaceholder),1)],10,X)):e.type==="link"?(o(),d("label",{key:1,class:g(["ui-ctl ui-ctl-file-link",{"bx-input-file-disabled":e.disabled}]),title:p.value},[a("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:b},null,40,U),a("div",W,u(e.placeholder||l.defaultPlaceholder),1)],10,O)):e.type==="drop"?(o(),d("label",{key:2,class:g(["ui-ctl ui-ctl-file-drop",{"bx-input-file-disabled":e.disabled}]),title:p.value},[a("div",w,[a("span",null,u(e.placeholder||l.defaultPlaceholder),1),A]),a("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:b},null,40,H)],10,q)):B("",!0),l.files.length?(o(),d("ul",J,[(o(!0),d(D,null,z(l.files,(y,v)=>(o(),d("li",{key:v,class:"drag-n-drop__file"},[a("span",Q,u(C(y)),1),a("span",{class:"drag-n-drop__delete",onClick:Z=>$(v)},null,8,R)]))),128))])):B("",!0)]))}});m.__docgenInfo={exportName:"default",displayName:"BxInputFile",description:"",tags:{},props:[{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"type",type:{name:"PropTypes"},defaultValue:{func:!1,value:"'drop'"}},{name:"multiple",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change"},{name:"delete"}],sourceFiles:["/home/valentin/WebstormProjects/vue-bitrix24/src/components/BxInputFile.vue"]};const r={placeholder:"",type:"drop",multiple:!1,disabled:!1},se={title:"forms/bx-input-file",component:m,args:{change:x("change"),delete:x("delete"),placeholder:r.placeholder,type:r.type,multiple:r.multiple,disabled:r.disabled},argTypes:{placeholder:{control:{type:"text"}},type:{options:h.types,defaultValue:r.type,control:{type:"inline-radio"}},multiple:{defaultValue:r.multiple,control:{type:"boolean"}},disabled:{defaultValue:r.disabled,control:{type:"boolean"}}}},c={render:t=>({template:'<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',data:()=>({args:t}),provide:{$BX24:null},components:{BxInputFile:m}})},Y=(t,n)=>({render:e=>({template:`
      <div v-for="item in propList" :key="item" class="component">
        <bx-input-file v-bind="args" v-on="args" :[propName]="item">{{ args.default }}</bx-input-file>
      </div>
    `,data:()=>({args:e,propName:t,propList:n}),provide:{$BX24:null},components:{BxInputFile:m}}),argTypes:{[t]:{table:{disable:!0}}}}),f=Y("type",h.types);var V,k,F;c.parameters={...c.parameters,docs:{...(V=c.parameters)==null?void 0:V.docs,source:{originalSource:`{
  render: args => ({
    template: '<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',
    data: () => ({
      args
    }),
    provide: {
      $BX24: null
    },
    components: {
      BxInputFile
    }
  })
}`,...(F=(k=c.parameters)==null?void 0:k.docs)==null?void 0:F.source}}};var S,I,P;f.parameters={...f.parameters,docs:{...(S=f.parameters)==null?void 0:S.docs,source:{originalSource:"Story('type', propsValues.types)",...(P=(I=f.parameters)==null?void 0:I.docs)==null?void 0:P.source}}};const ne=["Default","Types"];export{c as Default,f as Types,ne as __namedExportsOrder,se as default};
