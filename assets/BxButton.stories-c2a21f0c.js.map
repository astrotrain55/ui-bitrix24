{"version":3,"file":"BxButton.stories-c2a21f0c.js","sources":["../../src/components/BxButton.vue","../../src/utils/loadScript.js","../../node_modules/is-mobile/index.js","../../src/lib/BitrixWrapper.js","../../src/lib/BitrixBatch.js","../../src/lib/Bitrix24.js","../../src/lib/plugin.js"],"sourcesContent":["<template>\n  <div v-if=\"menu\" class=\"ui-btn-split\" :class=\"classList\">\n    <button class=\"ui-btn-main\" :type=\"type\" @click=\"$emit('click')\">\n      <slot></slot>\n      <i v-if=\"counter\" class=\"ui-btn-counter\">{{ count }}</i>\n    </button>\n    <button class=\"ui-btn-menu\" type=\"button\" @click=\"$emit('toggle-menu')\"></button>\n  </div>\n  <button v-else class=\"ui-btn\" :class=\"classList\" :type=\"type\" @click=\"$emit('click')\">\n    <slot></slot>\n    <i v-if=\"counter\" class=\"ui-btn-counter\">{{ count }}</i>\n  </button>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\n\nexport default defineComponent({\n  computed: {\n    classList() {\n      const colors = [\n        'default', 'success', 'success-light', 'danger', 'danger-dark', 'danger-light',\n        'primary', 'primary-dark', 'secondary', 'link', 'light', 'light-border',\n      ];\n      const icons = [\n        'add', 'stop', 'start', 'pause', 'setting', 'task', 'info', 'search', 'follow', 'unfollow',\n        'print', 'add-folder', 'list', 'business', 'business-confirm', 'business-warning', 'camera',\n        'phone-up', 'phone-down', 'back', 'edit', 'share', 'remove', 'download', 'cloud', 'page',\n        'chat', 'phone-call', 'lock', 'done', 'disk', 'mail', 'alert', 'angle-up', 'angle-down',\n        'dots', 'forward', 'fail', 'success', 'plan', 'eye-opened', 'eye-closed', 'tariff',\n        'battery', 'no-battery', 'half-battery', 'low-battery', 'crit-battery', 'demo',\n      ];\n\n      return {\n        'ui-btn-disabled': this.disabled,\n        'ui-btn-dropdown': this.dropdown,\n        'ui-btn-round': this.round,\n        'ui-btn-no-caps': this.noCaps,\n        'ui-btn-clock': this.loader === 'clock',\n        'ui-btn-wait': this.loader === 'wait',\n        'ui-btn-xs': this.size === 'xs',\n        'ui-btn-sm': this.size === 'sm',\n        'ui-btn-md': this.size === 'md',\n        'ui-btn-lg': this.size === 'lg',\n        [`ui-btn-${this.color}`]: colors.includes(this.color),\n        [`ui-btn-icon-${this.icon}`]: icons.includes(this.icon),\n      };\n    },\n  },\n  emits: ['click', 'toggle-menu'],\n  props: {\n    type: {\n      type: String,\n      default: 'button',\n    },\n    color: {\n      type: String,\n      default: 'default',\n    },\n    size: {\n      type: String,\n      default: 'md',\n    },\n    icon: {\n      type: String,\n      default: '',\n    },\n    loader: {\n      type: String,\n      default: '',\n    },\n    count: {\n      type: Number,\n      default: 0,\n    },\n    counter: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    dropdown: {\n      type: Boolean,\n      default: false,\n    },\n    round: {\n      type: Boolean,\n      default: false,\n    },\n    noCaps: {\n      type: Boolean,\n      default: false,\n    },\n    menu: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  name: 'bx-button',\n});\n</script>\n","export function loadScript(src) {\n  return new Promise((resolve, reject) => {\n    let shouldAppend = false;\n    let el = document.querySelector(`script[src^=\"${src}\"]`);\n\n    if (!el) {\n      el = document.createElement('script');\n      el.async = true;\n      el.src = src;\n      shouldAppend = true;\n    } else {\n      resolve(el);\n      return;\n    }\n\n    el.addEventListener('error', reject);\n    el.addEventListener('abort', reject);\n    el.addEventListener('load', () => {\n      el.dataset.loaded = 'loaded';\n      resolve(el);\n    });\n\n    if (shouldAppend) document.head.append(el);\n  });\n}\n","'use strict'\n\nmodule.exports = isMobile\nmodule.exports.isMobile = isMobile\nmodule.exports.default = isMobile\n\nconst mobileRE = /(android|bb\\d+|meego).+mobile|armv7l|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\nconst notMobileRE = /CrOS/\n\nconst tabletRE = /android|ipad|playbook|silk/i\n\nfunction isMobile (opts) {\n  if (!opts) opts = {}\n  let ua = opts.ua\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent']\n  }\n  if (typeof ua !== 'string') return false\n\n  let result =\n    (mobileRE.test(ua) && !notMobileRE.test(ua)) ||\n    (!!opts.tablet && tabletRE.test(ua))\n\n  if (\n    !result &&\n    opts.tablet &&\n    opts.featureDetect &&\n    navigator &&\n    navigator.maxTouchPoints > 1 &&\n    ua.indexOf('Macintosh') !== -1 &&\n    ua.indexOf('Safari') !== -1\n  ) {\n    result = true\n  }\n\n  return result\n}\n","import { loadScript } from '../utils/loadScript';\n\nexport class BitrixWrapper {\n  loadScript = loadScript;\n\n  constructor(BX24) {\n    this.BX24 = BX24;\n  }\n\n  init() {\n    return new Promise((resolve) => {\n      this.BX24.init(resolve);\n    });\n  }\n\n  install(callback) {\n    if (typeof callback === 'string') {\n      this.BX24.install(callback);\n      return Promise.resolve();\n    }\n    return new Promise((resolve) => {\n      this.BX24.install(resolve);\n    });\n  }\n\n  installFinish() {\n    this.BX24.installFinish();\n  }\n\n  getAuth() {\n    return this.BX24.getAuth();\n  }\n\n  refreshAuth() {\n    return new Promise((resolve) => {\n      this.BX24.refreshAuth(resolve);\n    });\n  }\n\n  callMethod(method, params, callback) {\n    this.BX24.callMethod(method, params, callback);\n  }\n\n  callBatch(calls, bHaltOnError) {\n    return new Promise((resolve) => {\n      this.BX24.callBatch(calls, resolve, bHaltOnError);\n    });\n  }\n\n  callBind(event, handler, authType, callback) {\n    this.BX24.callBind(event, handler, authType, callback);\n    return this.callUnbind.bind(this, event, handler, authType, callback);\n  }\n\n  callUnbind(event, handler, authType, callback) {\n    this.BX24.callUnbind(event, handler, authType, callback);\n  }\n\n  get userOption() {\n    return {\n      set: (name, value) => {\n        this.BX24.userOption.set(name, value);\n      },\n      get: (name) => this.BX24.userOption.get(name),\n    };\n  }\n\n  get appOption() {\n    return {\n      set: (name, value) => new Promise((resolve) => {\n        this.BX24.appOption.set(name, value, resolve);\n      }),\n      get: (name) => this.BX24.appOption.get(name),\n    };\n  }\n\n  selectUser() {\n    return new Promise((resolve) => {\n      this.BX24.selectUser(resolve);\n    });\n  }\n\n  selectUsers() {\n    return new Promise((resolve) => {\n      this.BX24.selectUsers(resolve);\n    });\n  }\n\n  selectAccess(value) {\n    return new Promise((resolve) => {\n      if (Array.isArray(value)) this.BX24.selectAccess(value, resolve);\n      else this.BX24.selectAccess(resolve);\n    });\n  }\n\n  selectCRM(params = {}) {\n    return new Promise((resolve) => {\n      this.BX24.selectCRM(params, resolve);\n    });\n  }\n\n  get placement() {\n    return {\n      bindEvent: (eventName) => new Promise((resolve) => {\n        this.BX24.placement.bindEvent(eventName, resolve);\n      }),\n      call: (command, params) => new Promise((resolve) => {\n        this.BX24.placement.call(command, params, resolve);\n      }),\n      getInterface: () => new Promise((resolve) => {\n        this.BX24.placement.getInterface(resolve);\n      }),\n      info: () => this.BX24.placement.info(),\n    };\n  }\n\n  isAdmin() {\n    return this.BX24.isAdmin();\n  }\n\n  getLang() {\n    return this.BX24.getLang();\n  }\n\n  resizeWindow(width, height) {\n    return new Promise((resolve) => {\n      this.BX24.resizeWindow(width, height, resolve);\n    });\n  }\n\n  fitWindow() {\n    return new Promise((resolve) => {\n      this.BX24.fitWindow(resolve);\n    });\n  }\n\n  reloadWindow() {\n    this.BX24.reloadWindow();\n  }\n\n  setTitle(title = '') {\n    return new Promise((resolve) => {\n      this.BX24.setTitle(title, resolve);\n    });\n  }\n\n  ready() {\n    return new Promise((resolve) => {\n      this.BX24.ready(resolve);\n    });\n  }\n\n  isReady() {\n    return this.BX24.isReady();\n  }\n\n  proxy(method, thisObject) {\n    return this.BX24.proxy(method, thisObject);\n  }\n\n  closeApplication() {\n    this.BX24.closeApplication();\n  }\n\n  getDomain(isOrigin) {\n    const domain = this.BX24.getDomain();\n    if (isOrigin) return ['https:', domain].join('//');\n    return domain;\n  }\n\n  openApplication(params) {\n    return new Promise((resolve) => {\n      this.BX24.openApplication(params, resolve);\n    });\n  }\n\n  openPath(path) {\n    return new Promise((resolve, reject) => {\n      this.BX24.openPath(path, (response) => {\n        if (response.result === 'error') reject(new Error(response.errorCode));\n        resolve(path);\n      });\n    });\n  }\n\n  proxyContext() {\n    return this.BX24.proxyContext();\n  }\n\n  scrollParentWindow(scroll) {\n    return new Promise((resolve) => {\n      this.BX24.scrollParentWindow(scroll, resolve);\n    });\n  }\n\n  bind(element, eventName, callback) {\n    this.BX24.bind(element, eventName, callback);\n    return this.unbind.bind(this, element, eventName, callback);\n  }\n\n  unbind(element, eventName, callback) {\n    this.BX24.unbind(element, eventName, callback);\n  }\n\n  getScrollSize() {\n    return this.BX24.getScrollSize();\n  }\n\n  get im() {\n    return {\n      callTo: (userId, video) => {\n        this.BX24.im.callTo(userId, video);\n      },\n      phoneTo: (number) => {\n        this.BX24.im.phoneTo(number);\n      },\n      openMessenger: (dialogId) => {\n        this.BX24.im.openMessenger(dialogId);\n      },\n      openHistory: (dialogId) => {\n        this.BX24.im.openHistory(dialogId);\n      },\n    };\n  }\n}\n","export class BitrixBatch {\n  constructor(callBatch, handlerList = {}) {\n    this.callBatch = callBatch;\n    this.handler = handlerList;\n    this.commands = [];\n    this.result = {};\n    this.errors = {};\n    this.delay = 500;\n    this.limit = 50;\n  }\n\n  batch(request) {\n    this.commands = [];\n    this.result = {};\n    this.errors = {};\n\n    return new Promise((resolve, reject) => {\n      const requestList = this.parseRequest(request);\n      const payloadList = [];\n      let errorsCount = 0;\n\n      this.callBatch(requestList, (result) => {\n        Object.entries(result).forEach(([key, value]) => {\n          const error = value.error();\n\n          if (error) {\n            this.errors[key] = error;\n            errorsCount += 1;\n          }\n\n          const total = value.total();\n          const data = value.data();\n          let dataLength = 1;\n\n          if (data) {\n            if (Array.isArray(data.items)) dataLength = data.items.length;\n            else if (Array.isArray(data)) dataLength = data.length;\n          }\n\n          this.result[key] = data;\n\n          if (total > this.limit && total > dataLength) {\n            const length = Math.ceil(total / this.limit) - 1;\n            const iterator = Array.from({ length });\n            payloadList.push([key, requestList[key], iterator]);\n          }\n        });\n\n        if (errorsCount > 0) {\n          this.errorLogger();\n          reject(this.errors);\n        } else if (payloadList.length) {\n          this.buildCommandsArray(payloadList);\n          this.batchPayload().then(() => resolve(this.parseResult()));\n        } else {\n          resolve(this.parseResult());\n        }\n      });\n    });\n  }\n\n  buildCommandsArray(payloadList) {\n    let array = [];\n\n    payloadList.forEach(([key, request, iterator]) => {\n      iterator.forEach((_, i) => {\n        const index = i + 1;\n        const start = this.limit * index;\n        const newKey = [key, index].join('_');\n        const command = [newKey, this.addStart(request, start)];\n\n        if (array.length === this.limit) {\n          this.commands.push(array);\n          array = [command];\n        } else {\n          array.push(command);\n        }\n      });\n    });\n\n    if (array.length) this.commands.push(array);\n  }\n\n  batchPayload() {\n    const payloads = [];\n\n    this.commands.forEach((command) => {\n      const request = Object.fromEntries(command);\n      const chunk = new Promise((resolve) => {\n        setTimeout(() => {\n          this.callBatch(request, (result) => {\n            Object.entries(result).forEach(([oldKey, value]) => {\n              const [key] = oldKey.split('_');\n              const data = value.data();\n              if (data?.items) this.result[key].items.push(...data.items);\n              else if (Array.isArray(data)) this.result[key].push(...data);\n            });\n\n            resolve();\n          });\n        }, this.delay);\n      });\n\n      payloads.push(chunk);\n    });\n\n    return Promise.all(payloads);\n  }\n\n  parseResult() {\n    Object.entries(this.handler).forEach(([key, handler]) => {\n      if (this.result[key]) this.result[key] = handler(this.result[key]);\n    });\n\n    return this.result;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  parseRequest(r) {\n    return Object.entries(r).reduce((acc, [key, request]) => {\n      if (Array.isArray(request)) {\n        const [method, params = {}] = request;\n        acc[key] = [method, params];\n      } else {\n        const { method, params = {} } = request;\n        acc[key] = [method, params];\n      }\n\n      return acc;\n    }, {});\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  addStart(request, start) {\n    const [method, params] = request;\n    return [method, { start, ...params }];\n  }\n\n  errorLogger() {\n    console.group(`${this.constructor.name}: Ошибки в методах!`);\n\n    Object.entries(this.errors).forEach(([key, error]) => {\n      console.info(`[${key}]`, error.toString());\n    });\n\n    console.groupEnd();\n  }\n}\n","import isMobile from 'is-mobile';\nimport { BitrixWrapper } from './BitrixWrapper';\nimport { BitrixBatch } from './BitrixBatch';\n\nexport class Bitrix24 extends BitrixWrapper {\n  isMobile = isMobile;\n\n  createBatch(handlerList = {}, RestCall = BitrixBatch) {\n    return new RestCall(this.BX24.callBatch, handlerList);\n  }\n\n  openLink(href, target = '_blank') {\n    const windowOpen = () => {\n      const anchor = document.createElement('a');\n      anchor.href = [this.getDomain(true), href].join('');\n      anchor.target = target;\n      anchor.click();\n    };\n    if (isMobile()) windowOpen();\n    else this.openPath(href).catch(windowOpen);\n  }\n}\n","import { loadScript } from '../utils/loadScript';\nimport { Bitrix24 } from './Bitrix24';\n\nexport default {\n  init(scripts = [], isCss = true) {\n    const loadScripts = ['//api.bitrix24.com/api/v1/', ...scripts]\n      .map((src) => loadScript(src));\n\n    return Promise.all(loadScripts).then(() => {\n      if (window.BX24) {\n        if (isCss) this.initAssets(window.BX24.getDomain());\n        const BX24 = new Bitrix24(window.BX24);\n        return BX24.init().then(() => BX24);\n      }\n      this.initAssets();\n      return Promise.resolve(null);\n    });\n  },\n  initAssets(domain = 'www.bitrix24.ru') {\n    const root = `//${domain}/bitrix/js/ui`;\n    const files = [\n      'alerts/ui.alerts.min.css',\n      'buttons/ui.buttons.min.css',\n      'buttons/icons/ui.buttons.icons.min.css',\n      // 'entity-selector/dist/entity-selector.bundle.min.css',\n      'fonts/opensans/ui.font.opensans.min.css',\n      // 'fonts/roboto/ui.font.roboto.min.css',\n      'forms/ui.forms.min.css',\n      'icons/b24/ui.icons.b24.min.css',\n      'icons/base/ui.icons.base.min.css',\n      'icons/disk/ui.icons.disk.min.css',\n      'icons/service/ui.icons.service.min.css',\n      'progressbar/ui.progressbar.min.css',\n    ];\n    const styles = files.reduce((Fragment, file) => {\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = [root, file].join('/');\n      Fragment.append(link);\n      return Fragment;\n    }, new DocumentFragment());\n\n    document.head.prepend(styles);\n  },\n};\n"],"names":["_sfc_main","defineComponent","colors","icons","_hoisted_2","_hoisted_4","_ctx","_cache","$props","$setup","$data","$options","_openBlock","_createElementBlock","_normalizeClass","_createElementVNode","$event","_renderSlot","_toDisplayString","_createCommentVNode","_hoisted_1","loadScript","src","resolve","reject","shouldAppend","el","isMobileModule","isMobile","mobileRE","notMobileRE","tabletRE","opts","ua","result","BitrixWrapper","BX24","__publicField","callback","method","params","calls","bHaltOnError","event","handler","authType","name","value","eventName","command","width","height","title","thisObject","isOrigin","domain","path","response","scroll","element","userId","video","number","dialogId","BitrixBatch","callBatch","handlerList","request","requestList","payloadList","errorsCount","key","error","total","data","dataLength","length","iterator","array","_","i","index","start","payloads","chunk","oldKey","r","acc","Bitrix24","RestCall","href","target","windowOpen","anchor","plugin","scripts","isCss","loadScripts","root","styles","Fragment","file","link"],"mappings":"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","x_google_ignoreList":[2]}