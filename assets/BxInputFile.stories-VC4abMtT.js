import{a as h}from"./chunk-WFFRPTHA-zlNDxfrq.js";import{d as V,e as s,n as f,f as l,t as d,g as y,F as j,m as P,o as a}from"./vue.esm-bundler-jb8z5up1.js";import{i as N}from"./injectStyles-5_4tRF-S.js";import{_ as D}from"./_plugin-vue_export-helper-x3n3nnut.js";import"./preview-errors-7FWlPnjy.js";import"./index-PPLHz8o0.js";function E(e){const t={GB:1073741824,MB:1048576,KB:1024},o=m=>[(e/t[m]).toFixed(2),m].join(" ");let r=0;return e>=t.GB?r=o("GB"):e>=t.MB?r=o("MB"):e>=t.KB?r=o("KB"):r=[e,"B"].join(" "),r}const c={types:["drop","button","link"]},F=V({methods:{getName(e){return`${e.name} (${E(e.size)})`},onChange(e){this.files.push(...e.target.files),this.$emit("change",[...this.files])},onDelete(e){const[t]=this.files.splice(e,1);this.$emit("delete",[...this.files],t)}},computed:{title(){return this.disabled?"":this.files.length?this.files.map(e=>e.name).join(`
`):this.multiple?"Файлы не выбраны.":"Файл не выбран."}},data(){return{files:[],defaultPlaceholder:"Загрузить файл или картинку"}},mixins:[N],emits:["change","delete"],props:{placeholder:{type:String,default:"",validator(e){return typeof e=="string"}},type:{type:String,default:"drop",validator(e){return typeof e=="string"&&c.types.includes(e)}},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},name:"bx-input-file"}),I={class:"drag-n-drop"},T=["title"],z=["multiple","disabled"],G={class:"ui-ctl-label-text"},K=["title"],M=["multiple","disabled"],X={class:"ui-ctl-label-text"},L=["title"],O={class:"ui-ctl-label-text"},U=l("small",null,"Перетащить с помощью drag'n'drop",-1),q=["multiple","disabled"],w={key:3,class:"drag-n-drop__list"},A={class:"drag-n-drop__name"},H=["onClick"];function J(e,t,o,r,m,S){return a(),s("div",I,[e.type==="button"?(a(),s("label",{key:0,class:f(["ui-ctl ui-ctl-file-btn",{"bx-input-file-disabled":e.disabled}]),title:e.title},[l("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:t[0]||(t[0]=(...n)=>e.onChange&&e.onChange(...n))},null,40,z),l("div",G,d(e.placeholder||e.defaultPlaceholder),1)],10,T)):e.type==="link"?(a(),s("label",{key:1,class:f(["ui-ctl ui-ctl-file-link",{"bx-input-file-disabled":e.disabled}]),title:e.title},[l("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:t[1]||(t[1]=(...n)=>e.onChange&&e.onChange(...n))},null,40,M),l("div",X,d(e.placeholder||e.defaultPlaceholder),1)],10,K)):e.type==="drop"?(a(),s("label",{key:2,class:f(["ui-ctl ui-ctl-file-drop",{"bx-input-file-disabled":e.disabled}]),title:e.title},[l("div",O,[l("span",null,d(e.placeholder||e.defaultPlaceholder),1),U]),l("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:t[2]||(t[2]=(...n)=>e.onChange&&e.onChange(...n))},null,40,q)],10,L)):y("",!0),e.files.length?(a(),s("ul",w,[(a(!0),s(j,null,P(e.files,(n,g)=>(a(),s("li",{key:g,class:"drag-n-drop__file"},[l("span",A,d(e.getName(n)),1),l("span",{class:"drag-n-drop__delete",onClick:R=>e.onDelete(g)},null,8,H)]))),128))])):y("",!0)])}const b=D(F,[["render",J]]);F.__docgenInfo={exportName:"default",displayName:"bx-input-file",description:"",tags:{},props:[{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"'drop'"}},{name:"multiple",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change",type:{names:["undefined"]}},{name:"delete",type:{names:["undefined"]},properties:[{type:{names:["undefined"]},name:"<anonymous1>"}]}],sourceFiles:["/home/valentin/Projects/vue-bitrix24/src/components/BxInputFile.vue","/home/valentin/Projects/vue-bitrix24/src/mixins/injectStyles.js"]};const i={placeholder:"",type:"drop",multiple:!1,disabled:!1},le={title:"forms/bx-input-file",component:b,args:{change:h("change"),delete:h("delete"),placeholder:i.placeholder,type:i.type,multiple:i.multiple,disabled:i.disabled},argTypes:{placeholder:{control:{type:"text"}},type:{options:c.types,defaultValue:i.type,control:{type:"inline-radio"}},multiple:{defaultValue:i.multiple,control:{type:"boolean"}},disabled:{defaultValue:i.disabled,control:{type:"boolean"}}}},p={render:e=>({template:'<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',data:()=>({args:e}),provide:{$BX24:null},components:{BxInputFile:b}})},Q=(e,t)=>({render:o=>({template:`
      <div v-for="item in propList" :key="item" class="component">
        <bx-input-file v-bind="args" v-on="args" :[propName]="item">{{ args.default }}</bx-input-file>
      </div>
    `,data:()=>({args:o,propName:e,propList:t}),provide:{$BX24:null},components:{BxInputFile:b}}),argTypes:{[e]:{table:{disable:!0}}}}),u=Q("type",c.types);var v,B,C;p.parameters={...p.parameters,docs:{...(v=p.parameters)==null?void 0:v.docs,source:{originalSource:`{
  render: args => ({
    template: '<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',
    data: () => ({
      args
    }),
    provide: {
      $BX24: null
    },
    components: {
      BxInputFile
    }
  })
}`,...(C=(B=p.parameters)==null?void 0:B.docs)==null?void 0:C.source}}};var _,$,k;u.parameters={...u.parameters,docs:{...(_=u.parameters)==null?void 0:_.docs,source:{originalSource:"Story('type', props.types)",...(k=($=u.parameters)==null?void 0:$.docs)==null?void 0:k.source}}};const ne=["Default","Types"];export{p as Default,u as Types,ne as __namedExportsOrder,le as default};
