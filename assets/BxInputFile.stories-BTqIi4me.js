import{a as g}from"./chunk-MZXVCX43-CM0pFb8Z.js";import{d as V,o as a,b as i,n as f,e as l,t as d,f as y,F as P,p as j}from"./vue.esm-bundler-4dOjYi74.js";import{i as N}from"./injectStyles-Dd9PIcWy.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./v4-CQkTLCs1.js";function E(e){const t={GB:1073741824,MB:1048576,KB:1024},n=m=>[(e/t[m]).toFixed(2),m].join(" ");let r;return e>=t.GB?r=n("GB"):e>=t.MB?r=n("MB"):e>=t.KB?r=n("KB"):r=[e,"B"].join(" "),r}const c={types:["drop","button","link"]},S=V({methods:{getName(e){return`${e.name} (${E(e.size)})`},onChange(e){const n=e.target.files;this.files.push(...n),this.$emit("change",[...this.files])},onDelete(e){const[t]=this.files.splice(e,1);this.$emit("delete",[...this.files],t)}},computed:{title(){return this.disabled?"":this.files.length?this.files.map(e=>e.name).join(`
`):this.multiple?"Файлы не выбраны.":"Файл не выбран."}},data(){return{files:[],defaultPlaceholder:"Загрузить файл или картинку"}},mixins:[N],emits:["change","delete"],props:{placeholder:{type:String,default:"",validator(e){return typeof e=="string"}},type:{type:String,default:"drop",validator(e){return c.types.includes(e)}},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},name:"bx-input-file"}),T={class:"drag-n-drop"},I=["title"],z=["multiple","disabled"],G={class:"ui-ctl-label-text"},K=["title"],M=["multiple","disabled"],X={class:"ui-ctl-label-text"},L=["title"],W={class:"ui-ctl-label-text"},O=l("small",null,"Перетащить с помощью drag'n'drop",-1),U=["multiple","disabled"],q={key:3,class:"drag-n-drop__list"},w={class:"drag-n-drop__name"},A=["onClick"];function H(e,t,n,r,m,F){return a(),i("div",T,[e.type==="button"?(a(),i("label",{key:0,class:f(["ui-ctl ui-ctl-file-btn",{"bx-input-file-disabled":e.disabled}]),title:e.title},[l("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:t[0]||(t[0]=(...s)=>e.onChange&&e.onChange(...s))},null,40,z),l("div",G,d(e.placeholder||e.defaultPlaceholder),1)],10,I)):e.type==="link"?(a(),i("label",{key:1,class:f(["ui-ctl ui-ctl-file-link",{"bx-input-file-disabled":e.disabled}]),title:e.title},[l("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:t[1]||(t[1]=(...s)=>e.onChange&&e.onChange(...s))},null,40,M),l("div",X,d(e.placeholder||e.defaultPlaceholder),1)],10,K)):e.type==="drop"?(a(),i("label",{key:2,class:f(["ui-ctl ui-ctl-file-drop",{"bx-input-file-disabled":e.disabled}]),title:e.title},[l("div",W,[l("span",null,d(e.placeholder||e.defaultPlaceholder),1),O]),l("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:t[2]||(t[2]=(...s)=>e.onChange&&e.onChange(...s))},null,40,U)],10,L)):y("",!0),e.files.length?(a(),i("ul",q,[(a(!0),i(P,null,j(e.files,(s,h)=>(a(),i("li",{key:h,class:"drag-n-drop__file"},[l("span",w,d(e.getName(s)),1),l("span",{class:"drag-n-drop__delete",onClick:Q=>e.onDelete(h)},null,8,A)]))),128))])):y("",!0)])}const b=D(S,[["render",H]]);S.__docgenInfo={exportName:"default",displayName:"bx-input-file",description:"",tags:{},props:[{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"type",type:{name:"PropTypes"},defaultValue:{func:!1,value:"'drop'"}},{name:"multiple",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change",type:{names:["undefined"]}},{name:"delete",type:{names:["undefined"]},properties:[{type:{names:["undefined"]},name:"<anonymous1>"}]}],sourceFiles:["/home/valentin/WebstormProjects/vue-bitrix24/src/components/BxInputFile.vue","/home/valentin/WebstormProjects/vue-bitrix24/src/mixins/injectStyles.ts"]};const o={placeholder:"",type:"drop",multiple:!1,disabled:!1},te={title:"forms/bx-input-file",component:b,args:{change:g("change"),delete:g("delete"),placeholder:o.placeholder,type:o.type,multiple:o.multiple,disabled:o.disabled},argTypes:{placeholder:{control:{type:"text"}},type:{options:c.types,defaultValue:o.type,control:{type:"inline-radio"}},multiple:{defaultValue:o.multiple,control:{type:"boolean"}},disabled:{defaultValue:o.disabled,control:{type:"boolean"}}}},p={render:e=>({template:'<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',data:()=>({args:e}),provide:{$BX24:null},components:{BxInputFile:b}})},J=(e,t)=>({render:n=>({template:`
      <div v-for="item in propList" :key="item" class="component">
        <bx-input-file v-bind="args" v-on="args" :[propName]="item">{{ args.default }}</bx-input-file>
      </div>
    `,data:()=>({args:n,propName:e,propList:t}),provide:{$BX24:null},components:{BxInputFile:b}}),argTypes:{[e]:{table:{disable:!0}}}}),u=J("type",c.types);var v,B,C;p.parameters={...p.parameters,docs:{...(v=p.parameters)==null?void 0:v.docs,source:{originalSource:`{
  render: args => ({
    template: '<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',
    data: () => ({
      args
    }),
    provide: {
      $BX24: null
    },
    components: {
      BxInputFile
    }
  })
}`,...(C=(B=p.parameters)==null?void 0:B.docs)==null?void 0:C.source}}};var _,$,k;u.parameters={...u.parameters,docs:{...(_=u.parameters)==null?void 0:_.docs,source:{originalSource:"Story('type', props.types)",...(k=($=u.parameters)==null?void 0:$.docs)==null?void 0:k.source}}};const le=["Default","Types"];export{p as Default,u as Types,le as __namedExportsOrder,te as default};
