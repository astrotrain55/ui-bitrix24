import{a as h}from"./chunk-OPEUWD42-a3b45fd8.js";import{d as S,a as s,n as m,b as t,e as r,f as y,F as I,j as N,o as n}from"./vue.esm-bundler-c8b1aa06.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";function j(e){const l={GB:1073741824,MB:1048576,KB:1024},o=f=>[(e/l[f]).toFixed(2),f].join(" ");let d=0;return e>=l.GB?d=o("GB"):e>=l.MB?d=o("MB"):e>=l.KB?d=o("KB"):d=[e,"B"].join(" "),d}const c={types:["drop","button","link"]},V=S({methods:{getName(e){return`${e.name} (${j(e.size)})`},onChange(e){this.files.push(...e.target.files),this.$emit("change",this.files)},onDelete(e){const[l]=this.files.splice(e,1);this.$emit("delete",this.files,l)}},computed:{title(){return this.disabled?"":this.files.length?this.files.map(e=>e.name).join(`
`):this.multiple?"Файлы не выбраны.":"Файл не выбран."}},data(){return{files:[],defaultPlaceholder:"Загрузить файл или картинку"}},emits:["change","delete"],props:{placeholder:{type:String,default:"",validator(e){return typeof e=="string"}},type:{type:String,default:"drop",validator(e){return c.types.includes(e)}},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},name:"bx-input-file"});const D={class:"drag-n-drop"},E=["title"],T=["multiple","disabled"],z={class:"ui-ctl-label-text"},G=["title"],K=["multiple","disabled"],M={class:"ui-ctl-label-text"},L=["title"],O={class:"ui-ctl-label-text"},U=t("small",null,"Перетащить с помощью drag'n'drop",-1),q=["multiple","disabled"],w={key:3,class:"drag-n-drop__list"},A={class:"drag-n-drop__name"},H=["onClick"];function J(e,l,o,d,f,$){return n(),s("div",D,[e.type==="button"?(n(),s("label",{key:0,class:m(["ui-ctl ui-ctl-file-btn",{"bx-input-file-disabled":e.disabled}]),title:e.title},[t("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:l[0]||(l[0]=(...a)=>e.onChange&&e.onChange(...a))},null,40,T),t("div",z,r(e.placeholder||e.defaultPlaceholder),1)],10,E)):e.type==="link"?(n(),s("label",{key:1,class:m(["ui-ctl ui-ctl-file-link",{"bx-input-file-disabled":e.disabled}]),title:e.title},[t("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:l[1]||(l[1]=(...a)=>e.onChange&&e.onChange(...a))},null,40,K),t("div",M,r(e.placeholder||e.defaultPlaceholder),1)],10,G)):e.type==="drop"?(n(),s("label",{key:2,class:m(["ui-ctl ui-ctl-file-drop",{"bx-input-file-disabled":e.disabled}]),title:e.title},[t("div",O,[t("span",null,r(e.placeholder||e.defaultPlaceholder),1),U]),t("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:l[2]||(l[2]=(...a)=>e.onChange&&e.onChange(...a))},null,40,q)],10,L)):y("",!0),e.files.length?(n(),s("ul",w,[(n(!0),s(I,null,N(e.files,(a,g)=>(n(),s("li",{key:g,class:"drag-n-drop__file"},[t("span",A,r(e.getName(a)),1),t("span",{class:"drag-n-drop__delete",onClick:R=>e.onDelete(g)},null,8,H)]))),128))])):y("",!0)])}const b=P(V,[["render",J]]);V.__docgenInfo={displayName:"bx-input-file",exportName:"default",description:"",tags:{},props:[{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"'drop'"}},{name:"multiple",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change",type:{names:["undefined"]}},{name:"delete",type:{names:["undefined"]},properties:[{type:{names:["undefined"]},name:"<anonymous1>"}]}],sourceFiles:["/home/valentin/Projects/vue-bitrix24/src/components/BxInputFile.vue"]};const i={placeholder:"",type:"drop",multiple:!1,disabled:!1},Z={title:"bx-input-file",component:b,tags:["autodocs"],args:{change:h("change"),delete:h("delete"),placeholder:i.placeholder,type:i.type,multiple:i.multiple,disabled:i.disabled},argTypes:{placeholder:{control:{type:"text"}},type:{options:c.types,defaultValue:i.type,control:{type:"inline-radio"}},multiple:{defaultValue:i.multiple,control:{type:"boolean"}},disabled:{defaultValue:i.disabled,control:{type:"boolean"}}}},p={render:e=>({template:'<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',data:()=>({args:e}),components:{BxInputFile:b}})},Q=(e,l)=>({render:o=>({template:`
      <div v-for="item in propList" :key="item" class="component">
        <bx-input-file v-bind="args" v-on="args" :[propName]="item">{{ args.default }}</bx-input-file>
      </div>
    `,data:()=>({args:o,propName:e,propList:l}),components:{BxInputFile:b}}),argTypes:{[e]:{table:{disable:!0}}}}),u=Q("type",c.types);var v,_,C;p.parameters={...p.parameters,docs:{...(v=p.parameters)==null?void 0:v.docs,source:{originalSource:`{
  render: args => ({
    template: '<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',
    data: () => ({
      args
    }),
    components: {
      BxInputFile
    }
  })
}`,...(C=(_=p.parameters)==null?void 0:_.docs)==null?void 0:C.source}}};var B,F,k;u.parameters={...u.parameters,docs:{...(B=u.parameters)==null?void 0:B.docs,source:{originalSource:"Story('type', props.types)",...(k=(F=u.parameters)==null?void 0:F.docs)==null?void 0:k.source}}};const x=["Default","Types"];export{p as Default,u as Types,x as __namedExportsOrder,Z as default};
//# sourceMappingURL=BxInputFile.stories-c4eb82ac.js.map
