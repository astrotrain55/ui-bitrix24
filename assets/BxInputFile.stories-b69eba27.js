import{a as h}from"./chunk-OPEUWD42-a3b45fd8.js";import{d as j,a as s,n as m,b as t,e as r,f as y,F as V,j as P,o as a}from"./vue.esm-bundler-47f028ed.js";import{i as I}from"./injectStyles-810eb529.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";function D(e){const l={GB:1073741824,MB:1048576,KB:1024},o=f=>[(e/l[f]).toFixed(2),f].join(" ");let d=0;return e>=l.GB?d=o("GB"):e>=l.MB?d=o("MB"):e>=l.KB?d=o("KB"):d=[e,"B"].join(" "),d}const c={types:["drop","button","link"]},k=j({methods:{getName(e){return`${e.name} (${D(e.size)})`},onChange(e){this.files.push(...e.target.files),this.$emit("change",[...this.files])},onDelete(e){const[l]=this.files.splice(e,1);this.$emit("delete",[...this.files],l)}},computed:{title(){return this.disabled?"":this.files.length?this.files.map(e=>e.name).join(`
`):this.multiple?"Файлы не выбраны.":"Файл не выбран."}},data(){return{files:[],defaultPlaceholder:"Загрузить файл или картинку"}},mixins:[I],emits:["change","delete"],props:{placeholder:{type:String,default:"",validator(e){return typeof e=="string"}},type:{type:String,default:"drop",validator(e){return typeof e=="string"&&c.types.includes(e)}},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},name:"bx-input-file"});const E={class:"drag-n-drop"},T=["title"],z=["multiple","disabled"],G={class:"ui-ctl-label-text"},K=["title"],M=["multiple","disabled"],X={class:"ui-ctl-label-text"},L=["title"],x={class:"ui-ctl-label-text"},O=t("small",null,"Перетащить с помощью drag'n'drop",-1),U=["multiple","disabled"],q={key:3,class:"drag-n-drop__list"},w={class:"drag-n-drop__name"},A=["onClick"];function H(e,l,o,d,f,S){return a(),s("div",E,[e.type==="button"?(a(),s("label",{key:0,class:m(["ui-ctl ui-ctl-file-btn",{"bx-input-file-disabled":e.disabled}]),title:e.title},[t("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:l[0]||(l[0]=(...n)=>e.onChange&&e.onChange(...n))},null,40,z),t("div",G,r(e.placeholder||e.defaultPlaceholder),1)],10,T)):e.type==="link"?(a(),s("label",{key:1,class:m(["ui-ctl ui-ctl-file-link",{"bx-input-file-disabled":e.disabled}]),title:e.title},[t("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:l[1]||(l[1]=(...n)=>e.onChange&&e.onChange(...n))},null,40,M),t("div",X,r(e.placeholder||e.defaultPlaceholder),1)],10,K)):e.type==="drop"?(a(),s("label",{key:2,class:m(["ui-ctl ui-ctl-file-drop",{"bx-input-file-disabled":e.disabled}]),title:e.title},[t("div",x,[t("span",null,r(e.placeholder||e.defaultPlaceholder),1),O]),t("input",{class:"ui-ctl-element",type:"file",multiple:e.multiple,disabled:e.disabled,onChange:l[2]||(l[2]=(...n)=>e.onChange&&e.onChange(...n))},null,40,U)],10,L)):y("",!0),e.files.length?(a(),s("ul",q,[(a(!0),s(V,null,P(e.files,(n,g)=>(a(),s("li",{key:g,class:"drag-n-drop__file"},[t("span",w,r(e.getName(n)),1),t("span",{class:"drag-n-drop__delete",onClick:Q=>e.onDelete(g)},null,8,A)]))),128))])):y("",!0)])}const b=N(k,[["render",H]]);k.__docgenInfo={exportName:"default",displayName:"bx-input-file",description:"",tags:{},props:[{name:"placeholder",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"'drop'"}},{name:"multiple",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"change",type:{names:["undefined"]}},{name:"delete",type:{names:["undefined"]},properties:[{type:{names:["undefined"]},name:"<anonymous1>"}]}],sourceFiles:["/home/valentin/Projects/vue-bitrix24/src/components/BxInputFile.vue","/home/valentin/Projects/vue-bitrix24/src/mixins/injectStyles.js"]};const i={placeholder:"",type:"drop",multiple:!1,disabled:!1},ee={title:"forms/bx-input-file",component:b,args:{change:h("change"),delete:h("delete"),placeholder:i.placeholder,type:i.type,multiple:i.multiple,disabled:i.disabled},argTypes:{placeholder:{control:{type:"text"}},type:{options:c.types,defaultValue:i.type,control:{type:"inline-radio"}},multiple:{defaultValue:i.multiple,control:{type:"boolean"}},disabled:{defaultValue:i.disabled,control:{type:"boolean"}}}},p={render:e=>({template:'<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',data:()=>({args:e}),provide:{$BX24:null},components:{BxInputFile:b}})},J=(e,l)=>({render:o=>({template:`
      <div v-for="item in propList" :key="item" class="component">
        <bx-input-file v-bind="args" v-on="args" :[propName]="item">{{ args.default }}</bx-input-file>
      </div>
    `,data:()=>({args:o,propName:e,propList:l}),provide:{$BX24:null},components:{BxInputFile:b}}),argTypes:{[e]:{table:{disable:!0}}}}),u=J("type",c.types);var v,B,_;p.parameters={...p.parameters,docs:{...(v=p.parameters)==null?void 0:v.docs,source:{originalSource:`{
  render: args => ({
    template: '<bx-input-file v-bind="args" v-on="args">{{ args.default }}</bx-input-file>',
    data: () => ({
      args
    }),
    provide: {
      $BX24: null
    },
    components: {
      BxInputFile
    }
  })
}`,...(_=(B=p.parameters)==null?void 0:B.docs)==null?void 0:_.source}}};var C,$,F;u.parameters={...u.parameters,docs:{...(C=u.parameters)==null?void 0:C.docs,source:{originalSource:"Story('type', props.types)",...(F=($=u.parameters)==null?void 0:$.docs)==null?void 0:F.source}}};const le=["Default","Types"];export{p as Default,u as Types,le as __namedExportsOrder,ee as default};
//# sourceMappingURL=BxInputFile.stories-b69eba27.js.map
