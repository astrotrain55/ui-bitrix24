import{f as B}from"./index-CjQa9iMn.js";import{g as p,S as v}from"./getClassName-C-3pepXu.js";import{j as e}from"./jsx-runtime-DEdD30eg.js";import{r as z}from"./index-RYns6xqu.js";const h={types:["drop","button","link"]},s={placeholder:"",type:h.types[0],multiple:!1,disabled:!1},t={"drag-n-drop":"_drag-n-drop_1nxal_1","drag-n-drop--disabled":"_drag-n-drop--disabled_1nxal_1","drag-n-drop--drop":"_drag-n-drop--drop_1nxal_1","drag-n-drop--link":"_drag-n-drop--link_1nxal_2","drag-n-drop__text":"_drag-n-drop__text_1nxal_2","drag-n-drop--btn":"_drag-n-drop--btn_1nxal_3","drag-n-drop__input":"_drag-n-drop__input_1nxal_7","drag-n-drop__list":"_drag-n-drop__list_1nxal_24","drag-n-drop__file":"_drag-n-drop__file_1nxal_30","drag-n-drop__name":"_drag-n-drop__name_1nxal_35","drag-n-drop__delete":"_drag-n-drop__delete_1nxal_43"};function V(n){const d={GB:1073741824,MB:1048576,KB:1024},c=o=>[(n/d[o]).toFixed(2),o].join(" ");let l;return n>=d.GB?l=c("GB"):n>=d.MB?l=c("MB"):n>=d.KB?l=c("KB"):l=[n,"B"].join(" "),l}function y(n){const{onChange:d=()=>null,onDelete:c=()=>null,placeholder:l=s.placeholder,type:o=s.type,multiple:j=s.multiple,disabled:u=s.disabled}=n,[i,N]=z.useState([]),x="Загрузить файл или картинку";function L(r){const a=r.target,_=[...i];_.push(...a.files),N(_),d([..._])}function T(r){const a=[...i],[_]=a.splice(r,1);N(a),c([...a],_)}function f(){return n.disabled?"":i.length?i.map(r=>r.name).join(`
`):n.multiple?"Файлы не выбраны.":"Файл не выбран."}function E(r){return`${r.name} (${V(r.size)})`}const b=e.jsx("input",{className:p("ui-ctl-element",{[t["drag-n-drop__input"]]:!0}),type:"file",multiple:j,disabled:u,onChange:L}),G=e.jsxs("label",{className:p("ui-ctl ui-ctl-file-btn",{[t["drag-n-drop--disabled"]]:u,[t["drag-n-drop--btn"]]:!0}),title:f(),children:[b,e.jsx("div",{className:p("ui-ctl-label-text",{[t["drag-n-drop__text"]]:!0}),children:l||x})]}),K=e.jsxs("label",{className:p("ui-ctl ui-ctl-file-link",{[t["drag-n-drop--disabled"]]:u,[t["drag-n-drop--link"]]:!0}),title:f(),children:[b,e.jsx("div",{className:p("ui-ctl-label-text",{[t["drag-n-drop__text"]]:!0}),children:l||x})]}),M=e.jsxs("label",{className:p("ui-ctl ui-ctl-file-drop",{[t["drag-n-drop--disabled"]]:u,[t["drag-n-drop--drop"]]:!0}),title:f(),children:[e.jsxs("div",{className:"ui-ctl-label-text",children:[e.jsx("span",{children:l||x}),e.jsx("small",{children:"Перетащить с помощью drag'n'drop"})]}),b]}),P=i.map((r,a)=>e.jsxs("li",{className:t["drag-n-drop__file"],children:[e.jsx("span",{className:t["drag-n-drop__name"],children:E(r)}),e.jsx("span",{className:t["drag-n-drop__delete"],onClick:()=>T(a)})]},a));return e.jsxs("div",{className:t["drag-n-drop"],children:[o==="button"?G:"",o==="link"?K:"",o==="drop"?M:"",i.length?e.jsx("ul",{className:t["drag-n-drop__list"],children:P}):""]})}y.__docgenInfo={description:"",methods:[],displayName:"BxInputFile"};const q={title:"Form/BxInputFile",args:{onChange:B(),onDelete:B(),placeholder:s.placeholder,type:s.type,multiple:s.multiple,disabled:s.disabled},argTypes:{placeholder:{control:{type:"text"}},type:{options:h.types,control:{type:"inline-radio"}},multiple:{control:{type:"boolean"}},disabled:{control:{type:"boolean"}}}},m=v(y).bind({}),g=v(y,"type",h.types);var F,I,S;m.parameters={...m.parameters,docs:{...(F=m.parameters)==null?void 0:F.docs,source:{originalSource:"Story(BxInputFile).bind({})",...(S=(I=m.parameters)==null?void 0:I.docs)==null?void 0:S.source}}};var k,C,D;g.parameters={...g.parameters,docs:{...(k=g.parameters)==null?void 0:k.docs,source:{originalSource:"Story<TypesPropsList>(BxInputFile, 'type', propsValues.types)",...(D=(C=g.parameters)==null?void 0:C.docs)==null?void 0:D.source}}};const w=["Default","Types"];export{m as Default,g as Types,w as __namedExportsOrder,q as default};
