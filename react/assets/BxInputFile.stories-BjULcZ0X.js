import{f as B}from"./index-M-tjR7DQ.js";import{j as e,g as p,S as v}from"./getClassName-BzrhRKf7.js";import{r as z}from"./index-CDs2tPxN.js";const h={types:["drop","button","link"]},s={placeholder:"",type:h.types[0],multiple:!1,disabled:!1},t={"drag-n-drop":"_drag-n-drop_1nxal_1","drag-n-drop--disabled":"_drag-n-drop--disabled_1nxal_1","drag-n-drop--drop":"_drag-n-drop--drop_1nxal_1","drag-n-drop--link":"_drag-n-drop--link_1nxal_2","drag-n-drop__text":"_drag-n-drop__text_1nxal_2","drag-n-drop--btn":"_drag-n-drop--btn_1nxal_3","drag-n-drop__input":"_drag-n-drop__input_1nxal_7","drag-n-drop__list":"_drag-n-drop__list_1nxal_24","drag-n-drop__file":"_drag-n-drop__file_1nxal_30","drag-n-drop__name":"_drag-n-drop__name_1nxal_35","drag-n-drop__delete":"_drag-n-drop__delete_1nxal_43"};function V(r){const d={GB:1073741824,MB:1048576,KB:1024},c=o=>[(r/d[o]).toFixed(2),o].join(" ");let l;return r>=d.GB?l=c("GB"):r>=d.MB?l=c("MB"):r>=d.KB?l=c("KB"):l=[r,"B"].join(" "),l}function y(r){const{onChange:d=()=>null,onDelete:c=()=>null,placeholder:l=s.placeholder,type:o=s.type,multiple:j=s.multiple,disabled:u=s.disabled}=r,[i,N]=z.useState([]),x="Загрузить файл или картинку";function L(n){const a=n.target,_=[...i];_.push(...a.files),N(_),d([..._])}function T(n){const a=[...i],[_]=a.splice(n,1);N(a),c([...a],_)}function f(){return r.disabled?"":i.length?i.map(n=>n.name).join(`
`):r.multiple?"Файлы не выбраны.":"Файл не выбран."}function E(n){return`${n.name} (${V(n.size)})`}const b=e.jsx("input",{className:p("ui-ctl-element",{[t["drag-n-drop__input"]]:!0}),type:"file",multiple:j,disabled:u,onChange:L}),G=e.jsxs("label",{className:p("ui-ctl ui-ctl-file-btn",{[t["drag-n-drop--disabled"]]:u,[t["drag-n-drop--btn"]]:!0}),title:f(),children:[b,e.jsx("div",{className:p("ui-ctl-label-text",{[t["drag-n-drop__text"]]:!0}),children:l||x})]}),K=e.jsxs("label",{className:p("ui-ctl ui-ctl-file-link",{[t["drag-n-drop--disabled"]]:u,[t["drag-n-drop--link"]]:!0}),title:f(),children:[b,e.jsx("div",{className:p("ui-ctl-label-text",{[t["drag-n-drop__text"]]:!0}),children:l||x})]}),M=e.jsxs("label",{className:p("ui-ctl ui-ctl-file-drop",{[t["drag-n-drop--disabled"]]:u,[t["drag-n-drop--drop"]]:!0}),title:f(),children:[e.jsxs("div",{className:"ui-ctl-label-text",children:[e.jsx("span",{children:l||x}),e.jsx("small",{children:"Перетащить с помощью drag'n'drop"})]}),b]}),P=i.map((n,a)=>e.jsxs("li",{className:t["drag-n-drop__file"],children:[e.jsx("span",{className:t["drag-n-drop__name"],children:E(n)}),e.jsx("span",{className:t["drag-n-drop__delete"],onClick:()=>T(a)})]},a));return e.jsxs("div",{className:t["drag-n-drop"],children:[o==="button"?G:"",o==="link"?K:"",o==="drop"?M:"",i.length?e.jsx("ul",{className:t["drag-n-drop__list"],children:P}):""]})}y.__docgenInfo={description:"",methods:[],displayName:"BxInputFile"};const U={title:"Form/BxInputFile",args:{onChange:B(),onDelete:B(),placeholder:s.placeholder,type:s.type,multiple:s.multiple,disabled:s.disabled},argTypes:{placeholder:{control:{type:"text"}},type:{options:h.types,control:{type:"inline-radio"}},multiple:{control:{type:"boolean"}},disabled:{control:{type:"boolean"}}}},g=v(y).bind({}),m=v(y,"type",h.types);var F,I,S;g.parameters={...g.parameters,docs:{...(F=g.parameters)==null?void 0:F.docs,source:{originalSource:"Story(BxInputFile).bind({})",...(S=(I=g.parameters)==null?void 0:I.docs)==null?void 0:S.source}}};var k,C,D;m.parameters={...m.parameters,docs:{...(k=m.parameters)==null?void 0:k.docs,source:{originalSource:"Story<TypesPropsList>(BxInputFile, 'type', propsValues.types)",...(D=(C=m.parameters)==null?void 0:C.docs)==null?void 0:D.source}}};const q=["Default","Types"];export{g as Default,m as Types,q as __namedExportsOrder,U as default};
